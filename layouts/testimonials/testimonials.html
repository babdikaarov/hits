{{ define "main" }}
  <main class="container mx-auto">
    <div class="markdown mb-9">
      <div>{{ .Content }}</div>
    </div>
    <div class="swipe_left">
      {{ range (.Paginate .Pages.ByPublishDate.Reverse 5).Pages }}
        <div class="relative mb-6">
          <div class="flex justify-between mb-4">
            {{ if .Params.linkedIn }}
              <a href="{{ .Params.linkedIn.link }}" class="text-lg">
                <svg
                  class="inline mb-1 size-[var(--font-size-lg)]"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                >
                  <path
                    d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"
                  ></path>
                </svg>
                {{ .Params.linkedIn.username }}</a
              >
            {{ end }}
            {{ if .Params.relatePage | default false }}
              <a
                href="{{ .RelPermalink }}"
                class="size-5 top-0 right-0 relative"
                aria-label="Read more about this review"
              >
                <svg
                  class="size-[var(--font-size-lg)]"
                  focusable="false"
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  data-testid="OpenInNewIcon"
                >
                  <path
                    d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"
                  ></path>
                </svg>
              </a>
            {{ end }}
          </div>
          <img
            src="{{ .Params.image }}"
            alt="testimonail from {{ .Params.recomendedBy }}"
          />
        </div>
      {{ end }}

    </div>
    <div class="flex justify-center">
      {{ template "_internal/pagination.html" . }}
    </div>
    <script>
      window.addEventListener("beforeunload", () => {
        sessionStorage.setItem("scrollPosition", window.scrollY);
      });
      window.addEventListener("load", () => {
        const scrollPosition = sessionStorage.getItem("scrollPosition");
        if (scrollPosition) {
          window.scrollTo(0, parseInt(scrollPosition, 10));
          sessionStorage.removeItem("scrollPosition"); // Optional: Remove it after restoring
        }
      });
    </script>
  </main>
{{ end }}
